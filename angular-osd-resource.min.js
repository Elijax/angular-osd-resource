!function(){angular.module("osdResource",["ngLodash"])}(),function(){"use strict";var e=angular.module("osdResource");e.config(["$provide",function(r){e.register={factory:r.factory,decorator:r.decorator}}]),e.provider("ResourceConfig",function(){var e=this,r=[],n={decorators:[],methods:{}};return e.add=function(o,t,c){return c=c||{},c.name=o,c.route=t,c.decorators=c.decorators||[],c.methods=c.methods||{},c.relations=c.relations||[],c.decorators=c.decorators.concat(n.decorators),angular.extend(c.methods,n.methods),r.push(c),e},e.global=function(r){return n=r,e},e.$get=function(){return r},e})}(),function(){"use strict";function e(e){return function(r){var n=this;n.config=e;var o={query:{method:"GET",isArray:!1},update:{method:"PUT"}};return angular.extend(o,e.methods),n.config.relations.forEach(function(e){o[e]={method:"GET",isArray:!0,url:n.config.route+"/"+e}}),n.resource=r(e.route,{id:"@id"},o),Object.keys(e.methods).forEach(function(e){n[e]=function(r){return n.resource[e](r).$promise}}),n.config.relations.forEach(function(e){n[e]=function(r){return n.resource[e](r).$promise}}),n.save=function(e){return n.resource.save(e).$promise},n.update=function(e){return n.resource.update(e).$promise},n.get=function(e){return n.resource.get(e).$promise},n.query=function(e){return n.resource.query(e).$promise},n.delete=function(e){return n.resource.delete({id:e}).$promise},n}}var r=angular.module("osdResource");r.run(["ResourceConfig",function(n){n.forEach(function(n){r.register.factory(n.name,["$resource",e(n)])})}])}(),function(){"use strict";function e(e,r){function n(){return u.caches[e.config.name]={},a.forEach(function(r){u.caches[e.config.name][r]={cached:!1,params:null,data:null}}),u.caches[e.config.name]}function o(o,t,c){var a=u.caches[e.config.name];if(a||(a=n()),!c&&a[o].cached&&r.isEqual(t,a[o].params))return a[o].data;a[o].cached=!0,a[o].params=t;var i=e[o](t).then(function(e){return e});return a[o].data=i,i}function t(r,o){var t=u.caches[e.config.name];return t||(t=n()),t.get.cached=!1,t.query.cached=!1,e[r](o)}var c={},u={caches:{}},a=["get","query"],i=["save","update","delete"];return a=a.concat(e.config.relations),angular.extend(c,e),a.forEach(function(e){c[e]=function(r,n){return o(e,r,n)}}),i.forEach(function(e){c[e]=function(r){return t(e,r)}}),c}var r=angular.module("osdResource");e.$inject=["$delegate","lodash"],r.run(["ResourceConfig",function(n){n.forEach(function(n){n.decorators.forEach(function(o){"cache"==o&&r.register.decorator(n.name,e)})})}])}();