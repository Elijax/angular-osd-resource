!function(){angular.module("osdResource",["ngLodash"])}(),function(){"use strict";var e=angular.module("osdResource");e.config(["$provide",function(r){e.register={factory:r.factory,decorator:r.decorator}}]),e.provider("ResourceConfig",function(){var e=this,r=[],o={decorators:[],methods:{},relations:{}};return e.add=function(n,t,c){return c=c||{},c.name=n,c.route=t,c.decorators=c.decorators||[],c.methods=c.methods||{},c.relations=c.relations||[],c.decorators=c.decorators.concat(o.decorators),angular.extend(c.methods,o.methods),r.push(c),e},e.global=function(r){return o=r,e},e.$get=function(){return r},e})}(),function(){"use strict";function e(e){return function(r){var o=this;o.config=e,o.config.methods=o.config.methods||{};var n={query:{method:"GET",isArray:!1},update:{method:"PUT"}};return angular.extend(n,e.methods),o.config.relations.forEach(function(e){n[e]={method:"GET",isArray:!0,url:o.config.route+"/"+e}}),o.resource=r(e.route,{id:"@id"},n),Object.keys(e.methods).forEach(function(e){o[e]=function(r){return o.resource[e](r).$promise}}),o.config.relations.forEach(function(e){o[e]=function(r){return o.resource[e](r).$promise}}),o.save=function(e){return o.resource.save(e).$promise},o.update=function(e){return o.resource.update(e).$promise},o.get=function(e){return o.resource.get(e).$promise},o.query=function(e){return o.resource.query(e).$promise},o.delete=function(e){return o.resource.delete({id:e}).$promise},o}}var r=angular.module("osdResource");r.run(["ResourceConfig",function(o){o.forEach(function(o){r.register.factory(o.name,["$resource",e(o)])})}])}(),function(){"use strict";function e(e,r){function o(){return u.caches[e.config.name]={},u.cachedCalls.forEach(function(e){u.caches[e]={cached:!1,params:null,data:null}}),u.caches[e.config.name]}function n(n,t,c){var a=u.caches[e.config.name];if(a||(a=o()),!c&&a[n].cached&&r.isEqual(t,a[n].params))return a[n].data;a[n].cached=!0,a[n].params=t;var i=e[n](t).then(function(e){return e});return a[n].data=i,i}function t(r,n){var t=u.caches[e.config.name];return t||(t=o()),t.get.cached=!1,t.query.cached=!1,e[r](n)}var c={},u={caches:{}},a=["get","query"],i=["save","update","delete"];return a=a.concat(e.config.relations),angular.extend(c,e),a.forEach(function(e){c[e]=function(r,o){return n(e,r,o)}}),i.forEach(function(e){c[e]=function(r){return t(e,r)}}),c}var r=angular.module("osdResource");e.$inject=["$delegate","lodash"],r.run(["ResourceConfig",function(o){o.forEach(function(o){o.decorators.forEach(function(n){"cache"==n&&r.register.decorator(o.name,e)})})}])}();