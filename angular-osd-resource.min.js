"use strict";!function(){angular.module("osdResource",["ngLodash"])}(),function(){var e=angular.module("osdResource");e.config(["$provide",function(n){e.register={factory:n.factory,decorator:n.decorator}}]),e.provider("ResourceConfig",function(){var e=this,n=[],r={decorators:[],methods:{}};return e.add=function(o,t,a){return a=a||{},a.name=o,a.route=t,a.decorators=a.decorators||[],a.methods=a.methods||{},a.relations=a.relations||[],a.decorators=a.decorators.concat(r.decorators),angular.extend(a.methods,r.methods),n.push(a),e},e.global=function(n){return r=n,e},e.$get=function(){return n},e})}(),function(){function e(e){return function(n){var r=this;r.config=e;var o={query:{method:"GET",isArray:!1},update:{method:"PUT"}};return angular.extend(o,e.methods),r.config.relations.forEach(function(e){o[e]={method:"GET",isArray:!0,url:r.config.route+"/"+e}}),r.resource=n(e.route,{id:"@id"},o),Object.keys(e.methods).forEach(function(e){r[e]=function(n){return r.resource[e](n).$promise}}),r.config.relations.forEach(function(e){r[e]=function(n){return r.resource[e](n).$promise}}),r.save=function(e){return r.resource.save(e).$promise},r.update=function(e){return r.resource.update(e).$promise},r.get=function(e){return r.resource.get(e).$promise},r.query=function(e){return r.resource.query(e).$promise},r["delete"]=function(e){return r.resource["delete"]({id:e}).$promise},r}}var n=angular.module("osdResource");n.run(["ResourceConfig",function(r){r.forEach(function(r){n.register.factory(r.name,["$resource",e(r)])})}])}(),function(){function e(e,n){function r(){return c.caches[e.config.name]={},u.forEach(function(n){c.caches[e.config.name][n]={cached:!1,params:null,data:null}}),c.caches[e.config.name]}function o(o,t,a){var u=c.caches[e.config.name];if(u||(u=r()),!a&&u[o].cached&&n.isEqual(t,u[o].params))return u[o].data;u[o].cached=!0,u[o].params=t;var i=e[o](t).then(function(e){return e});return u[o].data=i,i}function t(n,o){var t=c.caches[e.config.name];return t||(t=r()),t.get.cached=!1,t.query.cached=!1,e[n](o)}var a={},c={caches:{}},u=["get","query"],i=["save","update","delete"];return angular.extend(a,e),u=u.concat(e.config.relations),u.forEach(function(e){a[e]=function(n,r){return o(e,n,r)}}),i.forEach(function(e){a[e]=function(n){return t(e,n)}}),a}var n=angular.module("osdResource");e.$inject=["$delegate","lodash"],n.run(["ResourceConfig",function(r){r.forEach(function(r){r.decorators.forEach(function(o){"cache"==o&&n.register.decorator(r.name,e)})})}])}(),function(){function e(e){var n={};return n.paginationStates||(n.paginationStates={}),angular.extend(n,e),n.paginationStates[e.config.name]={page:1,perPage:null},n.query=function(r){return r=r||{},angular.extend(r,n.paginationStates[e.config.name]),e.query(r)},n.prevPage=function(r){n.paginationStates[e.config.name].page--,n.query(r)},n.nextPage=function(r){n.paginationStates[e.config.name].page++,n.query(r)},n.perPage=function(r){return n.paginationStates[e.config.name].perPage=r,n},n.page=function(r){return n.paginationStates[e.config.name].page=r,n},n}var n=angular.module("osdResource");e.$inject=["$delegate"],n.run(["ResourceConfig",function(r){r.forEach(function(r){r.decorators.forEach(function(o){"paginate"==o&&n.register.decorator(r.name,e)})})}])}();